{"version":3,"sources":["../../../../src/components/BarChart/index.tsx"],"names":["BarChart","data","height","container","colors","chart","changeData","destroy","Chart","autoFit","width","scale","alias","nice","axis","title","offset","tickLine","style","stroke","line","grid","type","lineDash","interval","position","color","adjust","label","val","content","originData","value","fill","legend","render"],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;;;;;AASO,IAAMA,QAAiC,GAAG,SAApCA,QAAoC,OAK3C;AAAA,uBAJJC,IAII;AAAA,MAJJA,IAII,0BAJG,EAIH;AAAA,yBAHJC,MAGI;AAAA,MAHJA,MAGI,4BAHK,GAGL;AAAA,MAFJC,SAEI,QAFJA,SAEI;AAAA,yBADJC,MACI;AAAA,MADJA,MACI,4BADK,CAAC,SAAD,EAAY,SAAZ,CACL;AACJ,MAAIC,KAAJ;AAEA,wBAAU,YAAM;AACd,QAAI,CAACA,KAAL,EAAY;AACZA,IAAAA,KAAK,CAACC,UAAN,CAAiBL,IAAjB;AACD,GAHD,EAGG,CAACA,IAAD,CAHH;AAKA,wBAAU,YAAM;AACd,QAAII,KAAJ,EAAW;AACTA,MAAAA,KAAK,CAACE,OAAN;AACD;;AAEDF,IAAAA,KAAK,GAAG,IAAIG,QAAJ,CAAU;AAChBL,MAAAA,SAAS,EAAEA,SAAS,IAAI,OADR;AAEhBD,MAAAA,MAAM,EAANA,MAFgB;AAGhBO,MAAAA,OAAO,EAAE,IAHO;AAIhBC,MAAAA,KAAK,EAAE;AAJS,KAAV,CAAR;AAMAL,IAAAA,KAAK,CAACM,KAAN,CAAY,OAAZ,EAAqB;AACnBC,MAAAA,KAAK,EAAE,YADY;AAEnBC,MAAAA,IAAI,EAAE;AAFa,KAArB;AAIAR,IAAAA,KAAK,CAACJ,IAAN,CAAWA,IAAX;AACAI,IAAAA,KAAK,CAACS,IAAN,CAAW,OAAX,EAAoB;AAClBC,MAAAA,KAAK,EAAE;AACLC,QAAAA,MAAM,EAAE;AADH,OADW;AAIlBC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,KAAK,EAAE;AACLC,UAAAA,MAAM,EAAE;AADH;AADC,OAJQ;AASlBC,MAAAA,IAAI,EAAE;AACJF,QAAAA,KAAK,EAAE;AACLC,UAAAA,MAAM,EAAE;AADH;AADH,OATY;AAclBE,MAAAA,IAAI,EAAE;AACJD,QAAAA,IAAI,EAAE;AACJE,UAAAA,IAAI,EAAE,MADF;AAEJJ,UAAAA,KAAK,EAAE;AACLK,YAAAA,QAAQ,EAAE,CAAC,CAAD;AADL;AAFH;AADF;AAdY,KAApB;AAwBAlB,IAAAA,KAAK,CACFmB,QADH,GAEGC,QAFH,CAEY,YAFZ,EAGGC,KAHH,CAGS,MAHT,EAGiBtB,MAHjB,EAIGuB,MAJH,CAIU,OAJV,EAMGC,KANH,CAMS,OANT,EAMkB,UAACC,GAAD,EAAS;AACvB,aAAO;AACLJ,QAAAA,QAAQ,EAAE,QADL;AAELT,QAAAA,MAAM,EAAE,CAFH;AAGLc,QAAAA,OAAO,EAAE,iBAACC,UAAD,EAAgB;AACvB,cAAIA,UAAU,CAACC,KAAX,GAAmB,CAAvB,EAA0B;AACxB,mBAAOD,UAAU,CAACC,KAAlB;AACD;;AAED,iBAAO,EAAP;AACD,SATI;AAULd,QAAAA,KAAK,EAAE;AACLe,UAAAA,IAAI,EAAE;AADD;AAVF,OAAP;AAcD,KArBH;AAuBA5B,IAAAA,KAAK,CAAC6B,MAAN,CAAa;AACXT,MAAAA,QAAQ,EAAE;AADC,KAAb;AAIApB,IAAAA,KAAK,CAAC8B,MAAN;AACD,GApED,EAoEG,EApEH;AAsEA,sBAAO;AAAK,IAAA,EAAE,EAAC;AAAR,IAAP;AACD,CApFM;;;;AANLjC,EAAAA,M;AACAD,EAAAA,I;AACAE,EAAAA,S;AACAC,EAAAA,M","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Chart } from \"@antv/g2\";\n\nexport type BarChartProps = {\n  height?: number;\n  data: any[];\n  container?: string;\n  colors?: Array<string>;\n};\n\nexport const BarChart: React.FC<BarChartProps> = ({\n  data = [],\n  height = 300,\n  container,\n  colors = [\"#FFDD00\", \"#D3D9DE\"],\n}) => {\n  let chart: Chart;\n\n  useEffect(() => {\n    if (!chart) return;\n    chart.changeData(data);\n  }, [data]);\n\n  useEffect(() => {\n    if (chart) {\n      chart.destroy();\n    }\n\n    chart = new Chart({\n      container: container || \"chart\",\n      height,\n      autoFit: true,\n      width: 615,\n    });\n    chart.scale(\"value\", {\n      alias: \"Количество\",\n      nice: true,\n    });\n    chart.data(data);\n    chart.axis(\"value\", {\n      title: {\n        offset: 30,\n      },\n      tickLine: {\n        style: {\n          stroke: \"#D3D9DE\",\n        },\n      },\n      line: {\n        style: {\n          stroke: \"#D3D9DE\",\n        },\n      },\n      grid: {\n        line: {\n          type: \"line\",\n          style: {\n            lineDash: [2],\n          },\n        },\n      },\n    });\n\n    chart\n      .interval()\n      .position(\"name*value\")\n      .color(\"type\", colors)\n      .adjust(\"stack\")\n\n      .label(\"value\", (val) => {\n        return {\n          position: \"middle\",\n          offset: 0,\n          content: (originData) => {\n            if (originData.value > 0) {\n              return originData.value;\n            }\n\n            return \"\";\n          },\n          style: {\n            fill: \"#5E7080\",\n          },\n        };\n      });\n\n    chart.legend({\n      position: \"bottom\",\n    });\n\n    chart.render();\n  }, []);\n\n  return <div id=\"chart\" />;\n};\n"],"file":"index.js"}